<!--
<This is the rps.html file for MiniPlay that renders format of the game rock paper scissors.>
    Copyright (C) <2025>  <Jessica Webb and Lea Karsanbhai>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0">

<!-- Link to style page -->
<link rel="stylesheet" href="./rps.css"/>

<!--Fonts-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
 
<!--Put logo onto browser tab-->
<link rel="shortcut icon" type="image/x-icon" href="../Images/favicon.ico">

<!--Redirect user to correct main page based on if they are signed in or not.-->
<script type="module">
    import { supabase } from '../helper.js';

    // Function to check the current user and update UI
    window.checkUserStatus = async function checkUserStatus() {
        const { data: { user } } = await supabase.auth.getUser();
        const statusText = document.getElementById("userStatus");

        if (user) {
            console.log("User is signed in:", user);
            window.location.href = "../SignIn/signedIn.html";
        } else {
            console.log("No user signed in.");
            window.location.href = "../index.html";
        }
    };
</script>
<body>

<!--Have logo and user's score on top of game page.-->
<div class="heading">
	
    <!--When logo is clicked on, return to correct page.-->
    <a onclick="checkUserStatus()">
        <img src="../Images/logo.png" alt="logo">
    </a>

    <!--User Score-->
    <h2 class="score">
        Score:
        <b><span id = "user-score"></b>
    </h2>

    <h1>Rock Paper Scissors</h1>
</div>

    <div class = "game-body">

	<!-- Choice and Points display -->
        <div class="choices-container">
            <h3 class="user-choice">Your Choice: <span id="user-choice"></span></h3>
            <h3 class="computer-choice">Computer Choice: <span id="computer-choice"></span></h3>
        </div>

        <div class="points-container">
            <h4 class="user-points">Point: <span id ="user-point"></span></h4>
            <h4 class="computer-points">Point: <span id="computer-point"></span></h4>
        </div>

        <!-- Start position of player and computer -->
        <div id="player_animate" class="initial_player">
            <img src="./Images/start postion 2.png" alt="user_postion" style="width:75%">
        </div>

        <div id="computer_animate" class="initial_computer">
            <img src="./Images/start postion.png" alt="user_postion" style="width:75%">
        </div>

        <!-- End position of player and computer -->
        <div class="scissor_computer">
            <img src="./Images/scissors end.png" alt="comp_scissor" style="width: 75%">
        </div>

        <div class="scissor_player">
            <img src="./Images/scissors end 2.png" alt="player_scissor" style="width: 75%">
        </div>

        <div class="paper_computer">
            <img src="./Images/paper end.png" alt="comp_paper" style="width: 75%">
        </div>

        <div class="paper_player">
            <img src="./Images/paper end 2.png" alt="player_paper" style="width: 75%">
        </div>


        <!--Buttons for user choice-->
        <div class="button-container">
            <button class="choice-btn" id="rock" onclick="generateComputerChoice(); triggerAnimation('rock')">
                <img src="./Images/rock icon.jpg" alt="Rock">
            </button>
            <button class="choice-btn" id="paper" onclick="generateComputerChoice(); triggerAnimation('paper')">
                <img src="./Images/paper icon.jpg" alt="Paper">
            </button>
            <button class="choice-btn" id="scissors" onclick="generateComputerChoice(); triggerAnimation('scissors')">
                <img src="./Images/scissor icon.jpg" alt="Scissors">
            </button>
        </div>
    </div>

	<script type="module" src="./rps.js" charset="utf-8"></script>

</body>

</html>



</body>

</html>
